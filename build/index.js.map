{"version":3,"sources":["../index.js"],"names":["app","PORT","process","env","mongoUrl","MONGODB_URI","require","use","bodyParser","urlencoded","extended","json","maxAge","keys","cookieKey","passport","initialize","session","mongoose","connect","NODE_ENV","express","static","path","get","request","response","sendFile","resolve","__dirname","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACA,IAAMC,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,IAAMG,WAAWF,QAAQC,GAAR,CAAYE,WAAZ,IAA2B,8BAA5C;;AAEAC,QAAQ,eAAR;AACAA,QAAQ,qBAAR;;AAEAN,IAAIO,GAAJ,CAAQC,qBAAWC,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAV,IAAIO,GAAJ,CAAQC,qBAAWG,IAAX,EAAR;AACAX,IAAIO,GAAJ,CACE,6BAAc;AACZK,UAAQ,KAAK,EAAL,GAAU,EAAV,GAAe,EAAf,GAAoB,IADhB;AAEZC,QAAM,CAACA,eAAKC,SAAN;AAFM,CAAd,CADF;AAMAd,IAAIO,GAAJ,CAAQQ,mBAASC,UAAT,EAAR;AACAhB,IAAIO,GAAJ,CAAQQ,mBAASE,OAAT,EAAR;AACAC,mBAASC,OAAT,CAAiBf,QAAjB;AACA,0BAAWJ,GAAX;AACA,6BAAcA,GAAd;;AAEA,IAAIE,QAAQC,GAAR,CAAYiB,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACApB,MAAIO,GAAJ,CAAQc,kBAAQC,MAAR,CAAe,cAAf,CAAR;;AAEA;AACA;AACA;AACA,MAAMC,OAAOjB,QAAQ,MAAR,CAAb,CAPyC,CAOX;AAC9BN,MAAIwB,GAAJ,CAAQ,GAAR,EAAa,UAACC,OAAD,EAAUC,QAAV,EAAuB;AAClCA,aAASC,QAAT,CAAkBJ,KAAKK,OAAL,CAAaC,SAAb,EAAwB,QAAxB,EAAkC,OAAlC,EAA2C,YAA3C,CAAlB;AACD,GAFD;AAGD;;AAED7B,IAAI8B,MAAJ,CAAW7B,IAAX,EAAiB,YAAM;AACrB8B,UAAQC,GAAR,CAAY,2CAAZ,EADqB,CACqC;AAC3D,CAFD","file":"index.js","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport cookieSession from 'cookie-session';\nimport passport from 'passport';\nimport mongoose from 'mongoose';\n\nimport authRoutes from './routes/authRoutes';\nimport scraperRoutes from './routes/scraperRoutes';\nimport keys from './config/keys';\n\nconst app = express();\nconst PORT = process.env.PORT || 5000;\nconst mongoUrl = process.env.MONGODB_URI || 'mongodb://localhost/anify_db';\n\nrequire('./models/User');\nrequire('./services/passport');\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(\n  cookieSession({\n    maxAge: 30 * 24 * 60 * 60 * 1000,\n    keys: [keys.cookieKey]\n  })\n);\napp.use(passport.initialize());\napp.use(passport.session());\nmongoose.connect(mongoUrl);\nauthRoutes(app);\nscraperRoutes(app);\n\nif (process.env.NODE_ENV === 'production') {\n  // Express serves up production build assets\n  app.use(express.static('client/build'));\n\n  // This below informs Express to serve up\n  // the index.html file if it doesn't recognize\n  // the provided routes\n  const path = require('path'); // eslint-disable-line\n  app.get('*', (request, response) => {\n    response.sendFile(path.resolve(__dirname, 'client', 'build', 'index.html'));\n  });\n}\n\napp.listen(PORT, () => {\n  console.log('They came for us....out of the darkness..'); // eslint-disable-line\n});\n"]}